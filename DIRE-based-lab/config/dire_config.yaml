# DIRE (Diffusion Reconstruction Error) Configuration
# Reference: "DIRE for Diffusion-Generated Image Detection" (ICCV 2023)

model:
  # Diffusion model settings
  diffusion_model: "runwayml/stable-diffusion-v1-5"   # Hugging Face model ID
  ddim_steps: 20                                       # DDIM inversion/reconstruction steps
  guidance_scale: 1.0                                  # Classifier-free guidance scale

  # Classifier settings
  classifier: "resnet50"                               # Backbone for DIRE classification
  image_size: 512                                      # Input image size for diffusion
  classifier_input_size: 224                           # Input size for classifier

  # Output settings
  num_classes: 1                                       # Binary classification

training:
  lr: 0.0001                    # Learning rate
  weight_decay: 0.01            # L2 regularization
  bs: 4                         # Batch size (small due to diffusion computation)
  epochs: 50                    # Maximum epochs
  early_stop: 15                # Early stopping patience

  # Scheduler settings
  scheduler:
    type: "reduce_on_plateau"
    patience: 5
    factor: 0.5

  # DIRE computation settings
  precompute_dire: true         # Pre-compute DIRE maps before training (recommended)
  dire_cache_dir: "./dire_cache"  # Directory to cache DIRE maps
